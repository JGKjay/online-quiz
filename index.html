<!DOCTYPE html>
<html>
<head>
  <title>Student Quiz</title>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

  <style>
    body {
      font-family: Arial;
      background: #f4f4f4;
      text-align: center;
      padding: 50px;
    }
    .box {
      background: white;
      padding: 25px;
      width: 400px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px gray;
    }
    input, button {
      padding: 10px;
      width: 80%;
      margin: 10px;
    }
  </style>
</head>

<body>

<div class="box" id="mainBox">
  <h2>Enter Your Full Name</h2>
  <input type="text" id="studentName" placeholder="Full Name">
  <button onclick="startQuiz()">Start Quiz</button>
</div>

<script>
emailjs.init("YOUR_PUBLIC_KEY");  // ðŸ”´ I will update this later

let student = "";
let index = 0;
let score = 0;

const questions = [
  {
    q: "2 + 2 = ?",
    options: ["1", "2", "3", "4"],
    ans: 3
  },
  {
    q: "Capital of India?",
    options: ["Mumbai", "Delhi", "Pune", "Chennai"],
    ans: 1
  },
  {
    q: "5 x 3 = ?",
    options: ["10", "20", "15", "25"],
    ans: 2
  }
];

function startQuiz() {
  student = document.getElementById("studentName").value;
  if (student === "") {
    alert("Please enter your full name");
    return;
  }
  showQuestion();
}

function showQuestion() {
  let q = questions[index];
  let html = `<h2>${q.q}</h2>`;

  q.options.forEach((opt, i) => {
    html += `<button onclick="checkAnswer(${i})">${opt}</button><br>`;
  });

  document.getElementById("mainBox").innerHTML = html;
}

function checkAnswer(selected) {
  if (selected === questions[index].ans) score++;
  index++;

  if (index < questions.length) {
    showQuestion();
  } else {
    showResult();
  }
}

function showResult() {
  document.getElementById("mainBox").innerHTML = `
    <h2>Quiz Completed âœ…</h2>
    <h3>Name: ${student}</h3>
    <h3>Score: ${score} / ${questions.length}</h3>
  `;

  sendEmail();
}

function sendEmail() {
  emailjs.send("service_gnb4svs", {
    student_name: student,
    student_score: score
  });
}
</script>

</body>
</html>
