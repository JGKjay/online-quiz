<!DOCTYPE html>
<html>
<head>
  <title>Student Quiz System</title>
  <style>
    body {
      font-family: Arial;
      background: #f4f4f4;
      text-align: center;
      padding: 40px;
    }
    .box {
      background: white;
      padding: 25px;
      width: 450px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px gray;
    }
    input, button {
      padding: 10px;
      width: 95%;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid black;
      padding: 8px;
    }
  </style>
</head>

<body>

<div class="box" id="mainBox">
  <h2>Online Quiz System</h2>
  <button onclick="studentPage()">Start Quiz (Student)</button>
  <button onclick="adminLogin()">Admin Login</button>
</div>

<script>
const ADMIN_PASSWORD = "0987654321";

let studentName = "";
let index = 0;
let score = 0;

/* ✅ YOUR 13 BILINGUAL QUESTIONS */
const questions = [
{
q:"1.What is the fine pitch size of hacksaw blade? | हैकसॉ ब्लेड का महीन पिच आकार क्या है?",
options:["0.5 mm","0.6 mm","0.7 mm","0.8 mm"],
ans:3
},
{
q:"What is the other name of gilbow shear? | गिलबो शियर का दूसरा नाम क्या है?",
options:["Block shear | ब्लॉक शियर","Scotch shear | स्कॉच शियर","Rhodes shear | हर्होड्स शियर","Universal combination shear | यूनिवर्सल संयोजन शियर"],
ans:3
},
{
q:"3. Which material is used for making mallets? | मेलेट बनाने के लिए किस सामग्री का उपयोग किया जाता है?",
options:["Brass | पीतल","Copper | तांबा","Hard wood | कठोर लकड़ी","Aluminium | अल्युमीनियम"],
ans:2
},
{
q:"4. Which material is used to make chisels, files, scribers and axe? | छेनी, फाइल, स्क्राइबर्स और कुल्हाड़ी बनाने के लिए किस सामग्री का उपयोग किया जाता है?",
options:["Stainless steel | स्टेनलेस स्टील","Low carbon steel | निम्न कार्बन इस्पात","High carbon steel | उच्च कार्बन इस्पात","Medium carbon steel | मध्यम कार्बन इस्पात"],
ans:2
},
{
q:"5.Which material is used to produce high speed steel along with chromium, vanadium and molybdenum? | क्रोमियम, वैनेडियम और मोलिब्डेनम के साथ उच्च गति वाले स्टील के उत्पादन के लिए किस सामग्री का उपयोग किया जाता है?",
options:["Nickel | निकल","Tungsten | टंगस्टन","Chromium | क्रोमियम","Manganese | मैगनीज "],
ans:1
},
{
q:"6. Which physical property of metal that carry heat and electricity? | धातु का कौन सा भौतिक गुण जो गर्मी और बिजली का प्रवाह करते है?",
options:["Tenacity | दृढ़ता","Elasticity | लोच","Machinablity | मशीनन क्षमता","Conductivity | प्रवाहकत्त्व "],
ans:3
},
{
q:"7. Which is the cheapest sheet metal used for sheet metal work? | शीट मेटल वर्क के लिए सबसे सस्ती शीट मेटल का उपयोग किसके लिए किया जाता है?",
options:["Copper sheet | ताम्र चादर","Stainless steel sheet | स्टेनलेस स्टील चादर","Black iron sheet | काले लोहे की चादर","Galvanised iron sheet | जस्ती लोहे की चादर"],
ans:2
},
{
q:"8. Which material is used to make house hold appliances, lighting fixtures and aeroplane construction etc.? | हाउस होल्ड इक्विपमेंट, लाइटिंग फिक्स्चर और हवाई जहाज निर्माण आदि के लिए किस सामग्री का उपयोग किया जाता है?",
options:["Lead sheets | लीड चादर","Tinned plates | टीन की चादर","Copper sheets | तांबे की चादर","Aluminium sheets | एल्युमिनियम चादर "],
ans:1
},
{
q:"9. How the Indian standard hot rolled steel flats are designated? | भारतीय मानक हॉट रोल्ड स्टील प्लेट्स को कैसे निर्दिष्ट किया जाता है?",
options:["ISF","ISHF","ISSF","ISFS"],
ans:0
},
{
q:"10. What is the expansion of PVC? | पीवीसी का विस्तार क्या है?",
options:["Poly Vinyl Carbon | पॉली विनाइल कार्बन","Poly Vinyl Chloric | पाली विनाइल क्लोरिक","Poly Vinyl Chloride | पोलीविनाइल क्लोराइड","Plastic Vinyl Chloride | प्लास्टिक विनाइल क्लोराइड"],
ans:0
},
{
q:"11. Which metal sheet is tougher than G.I sheet? | कौन सी धातु की शीट जी. आई. शीट से अधिक कठोर है?",
options:["Lead sheet | लीड चादर","Copper sheet | ताम्र चादर","Galvanised sheet | जस्ता चादर","Stainless steel sheet | स्टेनलेस स्टील चादर "],
ans:3
},
{
q:"12. Which metal is used to make water heating apparatus? | जल तापन उपकरण बनाने के लिए किस धातु का उपयोग किया जाता है?",
options:["Lead","Brass","Copper","Aluminium"],
ans:2
},
{
q:"13. Which metal sheet is used for making acid tanks? | एसिड टैंक बनाने के लिए किस धातु की शीट का उपयोग किया जाता है?",
options:["Lead","Tinned","Copper","Stainless steel"],
ans:3
}

];

/* ✅ STUDENT SECTION */

function studentPage() {
  document.getElementById("mainBox").innerHTML = `
    <h2>Enter Your Full Name</h2>
    <input type="text" id="nameInput" placeholder="Full Name">
    <button onclick="startQuiz()">Start Quiz</button>
  `;
}

function startQuiz() {
  studentName = document.getElementById("nameInput").value.trim();
  if (studentName === "") {
    alert("Please enter your name");
    return;
  }
  index = 0;
  score = 0;
  showQuestion();
}

function showQuestion() {
  let q = questions[index];
  let html = `<h3>Question ${index + 1} of ${questions.length}</h3>`;
  html += `<h2>${q.q}</h2>`;

  q.options.forEach((opt, i) => {
    html += `<button onclick="checkAnswer(${i})">${opt}</button><br>`;
  });

  document.getElementById("mainBox").innerHTML = html;
}

function checkAnswer(selected) {
  if (selected === questions[index].ans) {
    score++;
  }
  index++;

  if (index < questions.length) {
    showQuestion();
  } else {
    saveResult();
    showResult();
  }
}

function showResult() {
  document.getElementById("mainBox").innerHTML = `
    <h2>Quiz Completed ✅</h2>
    <h3>Name: ${studentName}</h3>
    <h3>Score: ${score} / ${questions.length}</h3>
    <button onclick="location.reload()">Go Home</button>
  `;
}

function saveResult() {
  let results = JSON.parse(localStorage.getItem("quizResults")) || [];
  results.push({ name: studentName, score: score });
  localStorage.setItem("quizResults", JSON.stringify(results));
}

/* ✅ ADMIN SECTION */

function adminLogin() {
  document.getElementById("mainBox").innerHTML = `
    <h2>Admin Login</h2>
    <input type="password" id="adminPass" placeholder="Enter Password">
    <button onclick="verifyAdmin()">Login</button>
  `;
}

function verifyAdmin() {
  let pass = document.getElementById("adminPass").value;
  if (pass !== ADMIN_PASSWORD) {
    alert("Wrong Password!");
    return;
  }
  showAdminPanel();
}

function showAdminPanel() {
  let results = JSON.parse(localStorage.getItem("quizResults")) || [];

  let html = `<h2>Admin Panel</h2>
              <button onclick="downloadExcel()">Download Excel</button>
              <button onclick="location.reload()">Logout</button>
              <table>
              <tr><th>Student Name</th><th>Score</th></tr>`;

  results.forEach(r => {
    html += `<tr><td>${r.name}</td><td>${r.score}</td></tr>`;
  });

  html += `</table>`;

  document.getElementById("mainBox").innerHTML = html;
}

/* ✅ EXCEL DOWNLOAD */

function downloadExcel() {
  let results = JSON.parse(localStorage.getItem("quizResults")) || [];
  if (results.length === 0) {
    alert("No student data found");
    return;
  }

  let csv = "Student Name,Score\n";
  results.forEach(r => {
    csv += `${r.name},${r.score}\n`;
  });

  let blob = new Blob([csv], { type: "text/csv" });
  let url = URL.createObjectURL(blob);

  let a = document.createElement("a");
  a.href = url;
  a.download = "quiz_results.csv";
  a.click();
}
</script>

</body>
</html>
